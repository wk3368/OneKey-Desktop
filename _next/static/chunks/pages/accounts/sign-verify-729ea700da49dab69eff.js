_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[41],{YmJE:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/accounts/sign-verify",function(){return s("hLAp")}])},hLAp:function(e,a,s){"use strict";s.r(a);var n={};s.r(n),s.d(n,"sign",(function(){return c})),s.d(n,"verify",(function(){return f})),s.d(n,"inputChange",(function(){return p})),s.d(n,"clearSign",(function(){return m})),s.d(n,"clearVerify",(function(){return y}));var t=s("uDfI"),i=s("9OUN"),r=s("kUQw"),l=s.n(r),d=s("j8QX");s("vM3x");const o=e=>{const a=new RegExp("^(.*[A-Z].*)$");return e.length<1?"Address is not set":d.isValidAddress(e)?e.match(a)&&!d.isValidChecksumAddress(e)?"Address is not a valid checksum":null:"Address is not valid"};var u=s("Rm8+"),g=s("FPY2");const c=(e,a,s=!1)=>async(n,t)=>{const i=t().suite.device;if(!i)return;const r=await l.a.ethereumSignMessage({device:{path:i.path,instance:i.instance,state:i.state},path:e,hex:s,message:a,useEmptyPassphrase:i.useEmptyPassphrase});r&&r.success?n({type:g.m.SIGN_SUCCESS,signSignature:r.payload.signature}):n(u.b({type:"sign-message-error",error:r.payload.error}))},f=(e,a,s,n=!1)=>async(t,i)=>{const r=i().suite.device;if(!r)return;const d=o(e);if(d&&t({type:g.m.ERROR,inputName:"verifyAddress",message:d}),!d){const i=await l.a.ethereumVerifyMessage({device:{path:r.path,instance:r.instance,state:r.state},address:e,message:a,signature:s,hex:n,useEmptyPassphrase:r.useEmptyPassphrase});i&&i.success?t(u.b({type:"verify-message-success"})):t(u.b({type:"verify-message-error",error:i.payload.error}))}},p=(e,a)=>s=>{if(s({type:g.m.INPUT_CHANGE,inputName:e,value:a}),s({type:g.m.TOUCH,inputName:e}),"verifyAddress"===e){const n=o(a);n&&s({type:g.m.ERROR,inputName:e,message:n})}},m=()=>({type:g.m.CLEAR_SIGN}),y=()=>({type:g.m.CLEAR_VERIFY});var h=s("zjfJ"),_=s("ERkP"),v=s.n(_),E=s("j/s1"),R=s("nRYI"),w=s("7Va+"),x=s("9+6G"),S=s("lL1r"),A=s("d8GR"),C=v.a.createElement;const N=E.default.div.withConfig({displayName:"sign-verify__Wrapper"})(["display:flex;flex:1;flex-direction:row;background:",";@media screen and (max-width:","){flex-wrap:wrap;}"],(e=>e.theme.BG_WHITE),R.variables.SCREEN_SIZE.MD),b=E.default.div.withConfig({displayName:"sign-verify__Row"})(["padding-bottom:28px;"]),I=Object(E.default)(b).withConfig({displayName:"sign-verify__RowButtons"})(["display:flex;align-items:center;justify-content:flex-end;"]),T=Object(E.default)(R.Button).withConfig({displayName:"sign-verify__StyledButton"})(["width:110px;margin-left:10px;&:first-child{margin-left:0;}"]),V=E.default.div.withConfig({displayName:"sign-verify__Column"})(["display:flex;flex:1 1 auto;flex-direction:column;@media screen and (max-width:","){flex:1 1 100%;}"],R.variables.SCREEN_SIZE.MD),M=Object(E.default)(V).withConfig({displayName:"sign-verify__Sign"})([""]),G=Object(E.default)(V).withConfig({displayName:"sign-verify__Verify"})(["padding-left:20px;@media screen and (max-width:","){padding-left:0px;}"],R.variables.SCREEN_SIZE.MD);class O extends _.Component{constructor(...e){super(...e),Object(h.a)(this,"handleInputChange",(e=>{this.props.signVerifyActions.inputChange(e.target.name,e.target.value)}))}getError(e){return this.props.signVerify?this.props.signVerify.errors.find((a=>a.inputName===e)):null}render(){const{intl:e,selectedAccount:a,signVerifyActions:s,signVerify:{signMessage:n,signSignature:t,verifyAddress:i,verifyMessage:r,verifySignature:l,errors:d}}=this.props,o=this.getError("verifyAddress");return C(x.s,{title:"TR_NAV_SIGN_VERIFY",account:a},C(N,null,C(M,null,C(w.a,null,C(S.a,{id:"TR_SIGN_MESSAGE"})),C(b,null,C(R.Input,{label:e.formatMessage(A.a.TR_ADDRESS),name:"signAddress",value:"",type:"text",readOnly:!0})),C(b,null,C(R.Textarea,{label:e.formatMessage(A.a.TR_MESSAGE),name:"signMessage",value:n,onChange:this.handleInputChange,rows:4,maxRows:4,maxLength:255})),C(b,null,C(R.Textarea,{label:e.formatMessage(A.a.TR_SIGNATURE),name:"signSignature",value:t,rows:4,maxRows:4,maxLength:255,readOnly:!0})),C(I,null,C(T,{onClick:this.props.signVerifyActions.clearSign,variant:"secondary"},C(S.a,{id:"TR_CLEAR"})),C(T,{isDisabled:!1},C(S.a,{id:"TR_SIGN"})))),C(G,null,C(w.a,null,C(S.a,{id:"TR_VERIFY_MESSAGE"})),C(b,null,C(R.Input,{label:e.formatMessage(A.a.TR_ADDRESS),name:"verifyAddress",value:i,onChange:this.handleInputChange,type:"text",state:o?"error":void 0,bottomText:o?o.message:null})),C(b,null,C(R.Textarea,{label:e.formatMessage(A.a.TR_MESSAGE),name:"verifyMessage",value:r,onChange:this.handleInputChange,rows:4,maxRows:4,maxLength:255})),C(b,null,C(R.Textarea,{label:e.formatMessage(A.a.TR_SIGNATURE),name:"verifySignature",value:l,onChange:this.handleInputChange,rows:4,maxRows:4,maxLength:255})),C(I,null,C(T,{onClick:s.clearVerify},C(S.a,{id:"TR_CLEAR"})),C(T,{isDisabled:!0,onClick:()=>{d.length<=0&&s.verify(i,r,l)}},C(S.a,{id:"TR_VERIFY"}))))))}}var j=O;var L=Object(t.b)((e=>({selectedAccount:e.wallet.selectedAccount,signVerify:e.wallet.signVerify})),(e=>({signVerifyActions:Object(i.b)(n,e)})))(j);a.default=L}},[["YmJE",0,1,7,13,10,3,15,8,11,9,14,6,12,5,16,2,4]]]);
//# sourceMappingURL=sign-verify-729ea700da49dab69eff.js.map