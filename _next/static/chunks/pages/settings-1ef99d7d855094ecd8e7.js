_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[53],{"57j9":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return a("utMG")}])},Aq9J:function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"a",(function(){return E}));var n=a("ERkP"),i=a.n(n),s=a("j/s1"),o=a("nRYI"),d=a("r1NI"),l=a("4Vpd"),r=a("Tdcs"),c=a("jsNd"),u=a("4iMl"),g=a("Tlkh"),b=i.a.createElement;const p=Object(s.default)(d.j).withConfig({displayName:"SettingsMenu__StyledLink"})(["padding:10px 16px;width:100%;"]);var _=()=>{const{setDebugMode:e,openModal:t,goto:a}=Object(l.b)({openModal:r.openModal,goto:u.c,setDebugMode:c.p}),{0:i,1:s}=Object(n.useState)(0),_=Object(l.k)((e=>e.suite.settings.debug.showDebugMenu));return b(d.e,{maxWidth:"default",title:b("span",{"aria-hidden":"true",onClick:()=>{s((e=>e+1)),4===i&&(s(0),e({showDebugMenu:!_}))}},b(d.J,{id:"TR_SETTINGS"})),navigation:b(d.d,{items:[{title:b(d.J,{id:"TR_GENERAL"}),"data-test":"@settings/menu/general",icon:"SETTINGS",route:"settings-index"},{title:b(d.J,{id:"TR_DEVICE"}),"data-test":"@settings/menu/device",icon:"TREZOR",route:"settings-device"},{title:b(d.J,{id:"TR_COINS"}),"data-test":"@settings/menu/wallet",icon:"COINS",route:"settings-coins"}]}),dropdown:b(o.Dropdown,{alignMenu:"right","data-test":"@settings/menu/dropdown",items:[{key:"group1",options:[{key:"support",label:b(p,{size:"small",href:g.SUPPORT_URL},b(d.J,{id:"TR_SUPPORT"})),"data-test":"@settings/menu/support",callback:()=>{},noPadding:!0},{key:"log",label:b(d.J,{id:"TR_SHOW_LOG"}),"data-test":"@settings/menu/log",callback:()=>{t({type:"log"})}},{key:"debug",label:"Debug Settings","data-test":"@settings/menu/debug",isHidden:!_,callback:()=>{a("settings-debug")}}]}]})})},T=i.a.createElement;const O=s.default.div.withConfig({displayName:"SettingsLayout__Wrapper"})(["display:flex;flex:1;flex-direction:column;"]);var E=e=>{const{setLayout:t}=i.a.useContext(d.r);return i.a.useEffect((()=>{t&&t(e.title||"Settings",null,T(_,null))}),[e.title,t]),T(O,{"data-test":e["data-test"]},e.children)}},NPVX:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return d}));var n=a("Zxgz"),i=a("BUnG");const s=`https://github.com/${"OneKeyHQ"}/${"OneKey-Desktop"}`,o=e=>{const t=new URL(`${s}/issues/new`),a=`\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**Steps to reproduce:**\n1. a\n2. b\n3. c\n\n**Info:**\n - Suite version: ${(Object(i.k)()?"desktop":"web")+" 22.4.0 (4bed4cf6557402955ef91249b5acb411fae00bb8)"}\n - Browser: ${Object(i.i)()}\n - OS: ${navigator.platform}\n - Screen: ${Object(i.h)()}x${Object(i.g)()}\n - Device: ${(e=>null!==e&&void 0!==e&&e.features?`model ${Object(n.l)(e)} ${Object(n.g)(e)} ${Object(n.m)(e)?"Bitcoin only":"regular"}`:"")(e)}\n\n**Expected result:**\nA clear and concise description of what you expected to happen.\n\n**Actual result:**\nA clear and concise description of what actually happens.\n\n**Screenshots:**\nInsert here.\n\n**Note(s):**\nAdd any other context about the problem here.\n`;t.searchParams.set("body",a),window.open(t.toString())},d=e=>`${s}/releases/tag/v${e}`},utMG:function(e,t,a){"use strict";a.r(t);var n=a("uDfI"),i=a("9OUN"),s=a("W29j"),o=a("xtke"),d=a("021W"),l=a("4iMl"),r=a("Lp5W"),c=a("ERkP"),u=a.n(c),g=a("j/s1"),b=a("Aq9J"),p=a("r1NI"),_=a("Y3DR"),T=a("+8Xb"),O=a("4Vpd"),E=a("nRYI"),v=a("PnML"),R=a("jsNd"),N=a("EbO7");a("Rm8+");const f=e=>({type:N.b.WINDOW,payload:e});var h=a("NPVX"),C=a("ZO07"),L=u.a.createElement;const k=e=>({value:e,label:e.toUpperCase()}),A=g.default.div.withConfig({displayName:"settings__Version"})(["span{display:flex;align-items:center;}"]),S=Object(g.default)(E.Button).withConfig({displayName:"settings__VersionButton"})(["padding-left:1ch;"]),w=Object(g.default)(E.Tooltip).withConfig({displayName:"settings__VersionTooltip"})(["display:inline-flex;margin:0 2px;"]),y=g.default.a.withConfig({displayName:"settings__VersionLink"})([""]);var m=({language:e,metadata:t,localCurrency:a,desktopUpdate:n,setLocalCurrency:i,fetchLocale:s,removeDatabase:o,goto:d,initMetadata:l,disconnectProvider:r,disableMetadata:g})=>{const N=Object(O.c)(),{isLocked:m,device:I}=Object(O.e)(),j=m(),{tor:D,torOnionLinks:J}=Object(O.k)((e=>({tor:e.suite.tor,torOnionLinks:e.suite.settings.torOnionLinks}))),{setOnionLinks:P}=Object(O.b)({setOnionLinks:R.s}),{0:U,1:G}=Object(c.useState)("");Object(c.useEffect)((()=>{var e;null===(e=window.desktopApi)||void 0===e||e.getTorAddress().then((e=>G(e)))}),[G]);Object(c.useCallback)((()=>{window.desktopApi.setTorAddress(U)}),[U]);const{setUpdateWindow:x}=Object(O.b)({setUpdateWindow:f}),M=Object(c.useCallback)((()=>{var e;return null===(e=window.desktopApi)||void 0===e?void 0:e.checkForUpdates(!0)}),[]),V=Object(c.useCallback)((()=>{var e;return null===(e=window.desktopApi)||void 0===e?void 0:e.installUpdate()}),[]),Y=Object(c.useCallback)((()=>x("maximized")),[x]);return L(b.a,{"data-test":"@settings/index"},L(_.f,{title:L(p.J,{id:"TR_LOCALIZATION"})},L(_.g,{"data-test":"@settings/language"},L(_.h,{title:L(p.J,{id:"TR_LANGUAGE"})}),L(_.b,null,L(_.d,{hideTextCursor:!0,useKeyPressScroll:!0,noTopLabel:!0,value:{value:e,label:T.c.find((t=>t.code===e)).name},options:T.c.map((e=>({value:e.code,label:e.name}))),onChange:e=>{s(e.value),N.report({type:"settings/general/change-language",payload:{language:e.value}})},"data-test":"@settings/language-select"}))),L(_.g,{"data-test":"@settings/fiat"},L(_.h,{title:L(p.J,{id:"TR_PRIMARY_FIAT"})}),L(_.b,null,L(_.d,{noTopLabel:!0,hideTextCursor:!0,useKeyPressScroll:!0,onChange:e=>{i(e.value),N.report({type:"settings/general/change-fiat",payload:{fiat:e.value}})},value:k(a),options:T.b.currencies.map((e=>k(e))),"data-test":"@settings/fiat-select"})))),L(_.f,{title:L(p.J,{id:"TR_LABELING"})},L(_.g,{"data-test":"@settings/metadata"},L(_.h,{title:L(p.J,{id:"TR_LABELING_ENABLED"}),description:L(p.J,{id:"TR_LABELING_FEATURE_ALLOWS"})}),L(_.b,null,L(E.Switch,{isDisabled:!t.enabled&&!(null!==I&&void 0!==I&&I.connected)&&j,"data-test":"@settings/metadata-switch",checked:t.enabled,onChange:()=>t.enabled?g():l(!0)}))),t.enabled&&t.provider&&L(_.g,{"data-test":"@settings/metadata-provider"},L(_.h,{title:t.provider.isCloud?L(p.J,{id:"TR_CONNECTED_TO_PROVIDER",values:{provider:Object(v.a)(t.provider.type),user:t.provider.user}}):L(p.J,{id:"TR_CONNECTED_TO_PROVIDER_LOCALLY"}),description:t.provider.isCloud?L(p.J,{id:"TR_YOUR_LABELING_IS_SYNCED"}):L(p.J,{id:"TR_YOUR_LABELING_IS_SYNCED_LOCALLY"})}),L(_.b,null,L(_.a,{variant:"secondary",onClick:()=>r(),"data-test":"@settings/metadata/disconnect-provider-button"},L(p.J,{id:"TR_DISCONNECT"})))),t.enabled&&!t.provider&&"enabled"===(null===I||void 0===I?void 0:I.metadata.status)&&L(_.g,null,L(_.h,{title:L(p.J,{id:"TR_LABELING_NOT_SYNCED"}),description:L(p.J,{id:"TR_TO_MAKE_YOUR_LABELS_PERSISTENT"})}),L(_.b,null,L(_.a,{variant:"secondary",onClick:()=>l(!0),"data-test":"@settings/metadata/connect-provider-button"},L(p.J,{id:"TR_CONNECT"}))))),L(_.f,{title:L(p.J,{id:"TR_APPLICATION"})},L(_.i,null),L(_.g,{"data-test":"@settings/storage"},L(_.h,{title:L(p.J,{id:"TR_SUITE_STORAGE"}),description:L(p.J,{id:"TR_CLEAR_STORAGE_DESCRIPTION"})}),L(_.b,null,L(_.a,{onClick:async()=>{o(),window.desktopApi?window.desktopApi.send("app/restart"):(await d("suite-index"),window.location.reload())},variant:"secondary"},L(p.J,{id:"TR_CLEAR_STORAGE"})))),!Object(C.b)()&&L(_.g,{"data-test":"@settings/version"},L(_.h,{title:L(p.J,{id:"TR_SUITE_VERSION"}),description:L(A,null,L(p.J,{id:"TR_YOUR_CURRENT_VERSION",values:{version:L(w,{content:"4bed4cf6557402955ef91249b5acb411fae00bb8"},L(y,{target:"_blank",href:"https://github.com/OneKeyHQ/OneKey-Desktop/commit/4bed4cf6557402955ef91249b5acb411fae00bb8"},L(S,{variant:"tertiary",icon:"EXTERNAL_LINK",alignIcon:"right"},"22.4.0")))}}),!["checking","not-available"].includes(n.state)&&n.latest&&L(u.a.Fragment,null,"\xa0",L(p.J,{id:"TR_YOUR_NEW_VERSION",values:{version:L(y,{target:"_blank",href:Object(h.a)(n.latest.version)},L(S,{variant:"tertiary",icon:"EXTERNAL_LINK",alignIcon:"right"},n.latest.version))}})))}),n.enabled&&L(_.b,null,"checking"===n.state&&L(_.a,{isDisabled:!0,variant:"secondary"},L(p.J,{id:"SETTINGS_UPDATE_CHECKING"})),"not-available"===n.state&&L(_.a,{onClick:M,variant:"secondary"},L(p.J,{id:"SETTINGS_UPDATE_CHECK"})),"available"===n.state&&L(_.a,{onClick:Y,variant:"secondary"},L(p.J,{id:"SETTINGS_UPDATE_AVAILABLE"})),"downloading"===n.state&&L(_.a,{onClick:Y,variant:"secondary"},L(p.J,{id:"SETTINGS_UPDATE_DOWNLOADING"})),"ready"===n.state&&L(_.a,{onClick:V,variant:"secondary"},L(p.J,{id:"SETTINGS_UPDATE_READY"}))))))};var I=Object(n.b)((e=>({language:e.suite.settings.language,localCurrency:e.wallet.settings.localCurrency,metadata:e.metadata,desktopUpdate:e.desktopUpdate})),(e=>Object(i.b)({setLocalCurrency:s.i,removeDatabase:o.i,fetchLocale:d.a,goto:l.c,initMetadata:r.f,disableMetadata:r.c,disconnectProvider:r.d},e)))(m);t.default=I}},[["57j9",0,1,7,13,10,3,15,8,11,9,14,6,12,5,16,2,4]]]);
//# sourceMappingURL=settings-1ef99d7d855094ecd8e7.js.map